<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link href="https://fonts.googleapis.com/css?family=Permanent+Marker" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Audiowide" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="assets/css/reset.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="assets/css/style.css">
 
    <!-- Added link to the jQuery Library -->
   <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>



    <title>Star Wars RPG</title>
</head>
<body class="bg">
  
    <div class="container">
        <div class="row">
                <div class="col-lg-8">
                        
                </div>
                <div class="col-lg-4" id="game-title">
                        <h1>Star Wars RPG!</h1>
                </div>
                                    
        </div>
        <div class="row">
                <div class="col-lg-8" id="character-text">
                        
                </div>
                <div class="col-lg-4">

                </div>
                                    
        </div>
        <div class="row">
            <div class="col-lg-2" id="jedi-1">
1
            </div>
            <div class="col-lg-2" id="jedi-2">
2
            </div>
            <div class="col-lg-2" id="jedi-3">
3
            </div>
            <div class="col-lg-2" id="jedi-4">
4
            </div>
         
        </div>
        <div class="row">
                <div class="col-lg-8" id="enemies-text">
                        
                </div>
                <div class="col-lg-4">

                </div>
                                    
        </div>
        <div class="row" id="enemies">
                <div class="col-lg-2" id="enemy-1">
                        
                  </div>
                 <div class="col-lg-2" id="enemy-2">
                        
                 </div>
                 <div class="col-lg-2" id="enemy-3">
                        
                 </div>            
        </div>
        <div class="row">
                <div class="col-lg-4">
                        <button type="button" class="btn btn-default"  id="attack-button">Attack</button>
                        
                </div>
          </div>
        <div class="row">
                <div class="col-lg-8" id="defender-text">
                        
                </div>
                <div class="col-lg-4">

                </div>
                                    
        </div>
        <div class="row">
                <div class="col-lg-2" id="defender-1">

                    </div>           
        </div>
        <div class="row">
                <div class="col-lg-2" id="attack-result">

                    </div>           
        </div>
        
    </div>

</body>
<script type="text/javascript">
    var scr={  //an object to fill the screen with the figthers in different positions
      jedis:[[120,100,150,180],[8,10,12,14],[10,25,20,15]],//power, attack, counterattack
      br:'<button class="button-red" ',
      bw:'<button class="button-white" ',
      be:'</button>',
     // j1:'<button class="button-red" id="vader-b" > <img class="jedis" src="assets/images/darkVader.jpg"></button>',
     j1:'id="vader-b" >  <h5> Darth Vader </h5> <img class="jedis" src="assets/images/darkVader.jpg"><br>',
     j2:'id="maul-b" > <h5> Darth Maul </h5> <img class="jedis" src="assets/images/darth-maul.jpg"><br>',
      j3:'id="sith-b" > <h5> Darth Sith </h5> <img class="jedis" src="assets/images/darth-sith.jpg"><br>',
      j4:'id="obi-b" > <h5> Obi Wan Kenobi </h5> <img class="jedis" src="assets/images/obi.jpg"><br>',
    
        sortJedis:function (v1,p1,v2,p2,v3,p3,v4,p4){
          if (v1!=""){  
          $("#jedi-1").html(this.bw+v1+p1+this.be);
          }
          else {$("#jedi-1").html("");}
          if (v2!=""){
          $("#jedi-2").html(this.bw+v2+p2+this.be);
          }
          else {$("#jedi-2").html("")};
          if (v3!=""){
          $("#jedi-3").html(this.bw+v3+p3+this.be);
          }
          else {$("#jedi-3").html("")};
          if (v4!=""){ 
          $("#jedi-4").html(this.bw+v4+p4+this.be);
          }
          else {$("#jedi-4").html("")};
        },
         sortEnemies:function (v1,p1,v2,p2,v3,p3){

              $("#enemy-1").html(this.br+v1+p1+this.be);
               $("#enemy-2").html(this.br+v2+p2+this.be);
               $("#enemy-3").html(this.br+v3+p3+this.be);
         },
         sortDefender:function (d1,p1){
             $("#defender-1").html(this.br+d1+p1+this.be);
         },

         init:function (){
              this.sortJedis(this.j1,this.jedis[0][0],this.j2,this.jedis[0][1],this.j3,this.jedis[0][2],this.j4,this.jedis[0][3]);
              this.sortEnemies("","","","","","","");     
              $("#character-text").html("<h2>Your Character</h2>");
              $("#enemies-text").html("<h2>Enemies Available to Attack</h2>");
              $("#defender-text").html("<h2>Defender</h2>");
              game.stage=0;
          }
    };
    var game={  //an object to save the data of the actual game
        stage:0, // this variable stores in which stage of the game we are;
        player1Power:0,  // this variable stores the power level of the player1
        player1NewAttack:0,// this variable stores the health of the player1
        player1Attack:0,
        player2Power:0,
        player2CounterAttack:0,
        fillPlayers: function (p,a){ //this function will do the math an fill the player caracteristics
            this.player1Power=p;
            this.player1Attack=a;
            this.player1NewAttack=a;
            },
        fillEnemy: function (p,c){
            this.plalyer2Power=p;
            this.player2CounterAttack=c;
        },
        possibleEnemies:[],        
        chooseJedi: function(j){
            if (game.stage==0){
            switch (j) {
                case 0:{
                      scr.sortEnemies(scr.j2,scr.jedis[0][1],scr.j3,scr.jedis[0][2],scr.j4,scr.jedis[0][3]);
                      possibleEnemies=[2,3,4];
                    }
                case 1:{
                    scr.sortJedis(scr.j2,"120","","","","","","");
                    scr.sortEnemies(scr.j1,scr.jedis[0][0],scr.j3,scr.jedis[0][2],scr.j4,scr.jedis[0][3]);
                    possibleEnemies=[1,3,4];
                }
                case 2:{
                    scr.sortJedis(scr.j3,"150","","","","","");
                    scr.sortEnemies(scr.j1,scr.jedis[0][0],scr.j2,scr.jedis[0][1],scr.j4,scr.jedis[0][3]);
                    possibleEnemies=[1,2,4];
                }
                case 3:{
                    scr.sortJedis(scr.j4,"90","","","","","");
                   scr.sortEnemies(scr.j1,scr.jedis[0][0],scr.j2,scr.jedis[0][1],scr.j3,scr.jedis[0][2]);
                   possibleEnemies=[1,2,3];
                }
              this.stage=1;
              this.fillPlayers(scr.jedis[j][0],scr.jedis[j][1]);
            }  
            }  
        },
      //  chooseEnemy: function(e){
        chooseEnemy: function(j){
            if (game.stage==1){
                switch (possibleEnemies[j]){
                    case 0: {
                        scr.sortDefender(scr.j1,scr.jedis[0][0]);
                        
                        break;
                    }
                    case 1: {
                        scr.sortDefender(scr.j2,scr.jedis[0][1]);
                        break;
                    }
                    case 2: {
                        scr.sortDefender(scr.j3,scr.jedis[0][2]);
                        break;
                    }
                    case 3: {
                        scr.sortDefender(scr.j4,scr.jedis[0][3]);
                        break;
                    }
                }
                this.fillEnemy(scr.jedis[0][j],scr.jedis[2][j]);
                game.stage=2;    
                
            }  
        },
        attack:function(){
            this.player2Power=this.player2Power-this.player1NewAttack;
            this.player1NewAttack=this.player1NewAttack+this.player1Attack;
            this.player1Power=this.player1Power-this.player2CounterAttack;
            $("#attack-result").html("You for "+this.player1NewAttack+" damage");
        }
        //}

    };
  
    $("#jedi-1").on("click",function(){
        //scr.sortJedis(scr.bw+scr.j1,"","","");
        //scr.sortEnemies(scr.br+scr.j2,scr.br+scr.j3,scr.br+scr.j4,);
         game.chooseJedi(0);
    });
    $("#jedi-2").on("click",function(){
        game.chooseJedi(1);
    });
    $("#jedi-3").on("click",function(){
        game.chooseJedi(2);
      });
    $("#jedi-4").on("click",function(){
        game.chooseJedi(3);
    });
    $("#enemy-1").on("click",function(){
        game.chooseEnemy(0);
     });
    $("#enemy-2").on("click",function(){
        game.chooseEnemy(1);
     });
    $("#enemy-3").on("click",function(){
        game.chooseEnemy(2);
    
    });
    $("#attack-button").on("click",function(){
        debugger;
        game.attack();
    });

    scr.init();

</script>

</html>